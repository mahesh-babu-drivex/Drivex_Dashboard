{
  "pluginType": "DB",
  "pluginId": "postgres-plugin",
  "unpublishedAction": {
    "name": "Query1",
    "datasource": {
      "name": "Postgres",
      "pluginId": "postgres-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "Postgres",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Page1",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": "DO $$\nDECLARE\n    column_name text;\n    table_name text;\n    yesterday_date_query text;\n    yesterday_date_result text;\nBEGIN\n    -- Replace 'your_table_name' with your table name\n    SELECT column_name, table_name \n    INTO column_name, table_name\n    FROM information_schema.columns \n    WHERE table_name = 'sales_dash' \n    AND data_type = 'character varying'; -- Modify the data type as needed\n\n    -- Construct a query to fetch yesterday's date dynamically\n    yesterday_date_query := format('SELECT %I, to_char(to_date(%I, ''DD-Mon'') - interval ''1 day'', ''DD-Mon'') AS yesterday_date_in_format FROM %I', column_name, column_name, table_name);\n\n    -- Execute the constructed query\n    EXECUTE yesterday_date_query INTO yesterday_date_result;\n\n    -- Display the result\n    RAISE NOTICE 'Yesterday''s date: %', yesterday_date_result;\nEND $$;\n",
      "selfReferencingDataPaths": [],
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ]
    },
    "executeOnLoad": false,
    "dynamicBindingPathList": [],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "Page1_Query1",
  "deleted": false,
  "gitSyncId": "654c5d4e80e26167c30e16c9_655642ad80e26167c30e178c"
}